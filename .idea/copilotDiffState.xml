<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/MIGRATION_ROADMAP.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/MIGRATION_ROADMAP.md" />
              <option name="originalContent" value="# ️ PPL Workout App - Migration Roadmap&#10;&#10;## Overview&#10;This document outlines the migration path from the current simplified architecture to the advanced, production-ready architecture shown in the database and workflow diagrams.&#10;&#10;## Current State Analysis ✅&#10;&#10;### Database Schema (Working)&#10;- [x] **exercises** table: Basic structure with `id`, `name`, `isCompound` ✅&#10;- [x] **workout_days** table: Stores daily workout sessions ✅&#10;- [x] **workout_entries** table: Links exercises to workout days ✅&#10;- [x] **set_entries** table: Individual set tracking with timing ✅&#10;&#10;### Features Working&#10;- [x] PPL workout creation based on day of week&#10;- [x] Exercise detail screens with set progression&#10;- [x] Individual set timing and completion tracking&#10;- [x] Cross-exercise contamination fixed&#10;- [x] Database reset functionality for development&#10;- [x] Timer functionality with start/stop per set&#10;&#10;### Current Architecture&#10;- **Exercise Library**: Hardcoded in `PPLWorkoutDatabase.getPPLExercises()` (34 exercises)&#10;- **Workout Logic**: Day-based in repository layer&#10;- **Database Version**: 5 (with destructive migration enabled)&#10;&#10;---&#10;&#10;## Phase 1: Enhanced Exercise Library &amp; Templates &#10;&#10;### 1.1 Enhance Exercise Entity ⭐ **START HERE**&#10;**Current**: Simple Exercise entity with `id`, `name`, `isCompound`&#10;**Target**: Rich exercise metadata for better user experience&#10;&#10;#### Tasks:&#10;- [ ] **1.1.1** Expand Exercise entity with additional fields:&#10;  ```kotlin&#10;  data class Exercise(&#10;      @PrimaryKey val id: Int,&#10;      val name: String,&#10;      val isCompound: Boolean,&#10;      val primaryMuscle: String,      // NEW&#10;      val secondaryMuscles: String,   // NEW - comma separated&#10;      val equipment: String,          // NEW - &quot;Barbell&quot;, &quot;Dumbbell&quot;, etc.&#10;      val difficulty: String,         // NEW - &quot;Beginner&quot;, &quot;Intermediate&quot;, &quot;Advanced&quot; &#10;      val instructions: String,       // NEW - Step by step guide&#10;      val tips: String,              // NEW - Form tips and common mistakes&#10;      val category: String           // NEW - &quot;Push&quot;, &quot;Pull&quot;, &quot;Legs&quot;&#10;  )&#10;  ```&#10;&#10;- [ ] **1.1.2** Create database migration (Version 5 → 6):&#10;  ```kotlin&#10;  val MIGRATION_5_6 = object : Migration(5, 6) {&#10;      override fun migrate(database: SupportSQLiteDatabase) {&#10;          // Add new columns with default values&#10;          database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN primaryMuscle TEXT NOT NULL DEFAULT ''&quot;)&#10;          database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN secondaryMuscles TEXT NOT NULL DEFAULT ''&quot;)&#10;          // ... add other columns&#10;      }&#10;  }&#10;  ```&#10;&#10;- [ ] **1.1.3** Update `getPPLExercises()` with rich metadata:&#10;  ```kotlin&#10;  Exercise(1, &quot;Barbell Bench Press&quot;, true, &#10;          primaryMuscle = &quot;Chest&quot;, &#10;          secondaryMuscles = &quot;Triceps,Front Delts&quot;,&#10;          equipment = &quot;Barbell&quot;, &#10;          difficulty = &quot;Intermediate&quot;,&#10;          instructions = &quot;1. Lie on bench...&quot;,&#10;          tips = &quot;Keep shoulder blades retracted...&quot;,&#10;          category = &quot;Push&quot;)&#10;  ```&#10;&#10;### 1.2 Create Workout Templates System&#10;**Goal**: Replace hardcoded day-based logic with flexible templates&#10;&#10;#### Tasks:&#10;- [ ] **1.2.1** Create WorkoutTemplate entity:&#10;  ```kotlin&#10;  @Entity(tableName = &quot;workout_templates&quot;)&#10;  data class WorkoutTemplate(&#10;      @PrimaryKey(autoGenerate = true) val id: Int = 0,&#10;      val name: String,              // &quot;Push Day 1&quot;, &quot;Pull Day 1&quot;, etc.&#10;      val description: String,       // &quot;Chest and Triceps focused&quot;&#10;      val estimatedDuration: Int,    // Minutes&#10;      val difficulty: String,        // &quot;Beginner&quot;, &quot;Intermediate&quot;, &quot;Advanced&quot;&#10;      val category: String          // &quot;Push&quot;, &quot;Pull&quot;, &quot;Legs&quot;&#10;  )&#10;  ```&#10;&#10;- [ ] **1.2.2** Create TemplateExercise junction entity:&#10;  ```kotlin&#10;  @Entity(tableName = &quot;template_exercises&quot;)&#10;  data class TemplateExercise(&#10;      @PrimaryKey(autoGenerate = true) val id: Int = 0,&#10;      val templateId: Int,           // FK to workout_templates&#10;      val exerciseId: Int,           // FK to exercises&#10;      val orderIndex: Int,           // Exercise order in template&#10;      val sets: Int,                 // Default sets for this exercise&#10;      val reps: Int,                 // Default reps for this exercise&#10;      val restSeconds: Int          // Recommended rest between sets&#10;  )&#10;  ```&#10;&#10;- [ ] **1.2.3** Create corresponding DAOs:&#10;  ```kotlin&#10;  @Dao interface WorkoutTemplateDao&#10;  @Dao interface TemplateExerciseDao&#10;  ```&#10;&#10;### 1.3 Implement Template-Based Workout Creation&#10;**Goal**: Replace current day-based workout creation with template selection&#10;&#10;#### Tasks:&#10;- [ ] **1.3.1** Update Repository to use templates:&#10;  ```kotlin&#10;  suspend fun createWorkoutFromTemplate(templateId: Int, date: String): List&lt;WorkoutEntry&gt;&#10;  ```&#10;&#10;- [ ] **1.3.2** Create template population in database:&#10;  ```kotlin&#10;  private fun getPPLTemplates(): List&lt;WorkoutTemplate&gt;&#10;  private fun getTemplateExercises(): List&lt;TemplateExercise&gt;&#10;  ```&#10;&#10;- [ ] **1.3.3** Update ViewModel to use template-based creation&#10;- [ ] **1.3.4** Migrate from day-based to template-based workout creation&#10;&#10;---&#10;&#10;## Phase 2: Advanced Features &#10;&#10;### 2.1 Progress Tracking&#10;- [ ] Create PersonalRecord entity for 1RM tracking&#10;- [ ] Implement weight progression suggestions&#10;- [ ] Add exercise history graphs&#10;&#10;### 2.2 Custom Workouts&#10;- [ ] Allow users to create custom templates&#10;- [ ] Exercise substitution system&#10;- [ ] Workout sharing functionality&#10;&#10;### 2.3 Analytics &amp; Insights&#10;- [ ] Weekly/monthly progress reports&#10;- [ ] Muscle group balance analysis&#10;- [ ] Training volume analytics&#10;&#10;---&#10;&#10;## Phase 3: Production Ready &#10;&#10;### 3.1 Performance Optimization&#10;- [ ] Database indexing optimization&#10;- [ ] LazyColumn performance improvements&#10;- [ ] Background data sync&#10;&#10;### 3.2 User Experience&#10;- [ ] Onboarding flow&#10;- [ ] Exercise video/animation support&#10;- [ ] Dark mode theme improvements&#10;&#10;### 3.3 Data Management&#10;- [ ] Export/import functionality&#10;- [ ] Cloud backup integration&#10;- [ ] Data migration between devices&#10;&#10;---&#10;&#10;## Implementation Priority &#10;&#10;### Sprint 1 (Week 1): Foundation ✅ **COMPLETED**&#10;1. **1.1.1** - Enhance Exercise Entity ⭐ ✅ **DONE**&#10;2. **1.1.2** - Database Migration 5→6 ✅ **DONE**&#10;3. **1.1.3** - Update exercise data with metadata ✅ **DONE**&#10;&#10;### Sprint 2 (Week 2): Templates&#10;4. **1.2.1** - WorkoutTemplate entity&#10;5. **1.2.2** - TemplateExercise junction&#10;6. **1.2.3** - Template DAOs&#10;&#10;### Sprint 3 (Week 3): Integration&#10;7. **1.3.1** - Template-based repository&#10;8. **1.3.2** - Template population&#10;9. **1.3.3** - ViewModel updates&#10;&#10;---&#10;&#10;## Week 1 Sprint 1 - Completed Features &#10;&#10;### ✅ Enhanced Exercise Entity&#10;- **Before**: Simple Exercise entity with only `id`, `name`, `isCompound`&#10;- **After**: Rich Exercise entity with 8 additional fields:&#10;  - `primaryMuscle`: Main muscle group targeted&#10;  - `secondaryMuscles`: Secondary muscles (comma separated)&#10;  - `equipment`: Required equipment type&#10;  - `difficulty`: Beginner/Intermediate/Advanced&#10;  - `instructions`: Step-by-step exercise guide&#10;  - `tips`: Form tips and common mistakes&#10;  - `category`: Push/Pull/Legs classification&#10;&#10;### ✅ Database Migration v5 → v6&#10;- **Migration**: Properly implemented Room database migration&#10;- **Backward Compatibility**: Existing data preserved during migration&#10;- **New Columns**: All new fields added with appropriate defaults&#10;- **Build Status**: ✅ Build successful, no compilation errors&#10;&#10;### ✅ Rich Exercise Data Library&#10;- **New File**: Created `ExerciseData.kt` with comprehensive metadata&#10;- **All 34 Exercises**: Each exercise now includes:&#10;  - Detailed step-by-step instructions&#10;  - Form tips and safety advice&#10;  - Muscle group classifications&#10;  - Equipment requirements&#10;  - Difficulty levels&#10;- **Database Integration**: Database now uses the enhanced exercise data&#10;&#10;## Next Steps - Week 2 Sprint 2 &#10;Ready to start **Sprint 2** with workout templates system:&#10;1. Create `WorkoutTemplate` entity for flexible workout creation&#10;2. Create `TemplateExercise` junction table for template-exercise relationships&#10;3. Build corresponding DAOs for the new entities&#10;" />
              <option name="updatedContent" value="# ️ PPL Workout App - Migration Roadmap&#10;&#10;## Overview&#10;This document outlines the migration path from the current simplified architecture to the advanced, production-ready architecture shown in the database and workflow diagrams.&#10;&#10;## Current State Analysis ✅&#10;&#10;### Database Schema (Working)&#10;- [x] **exercises** table: Enhanced with rich metadata (primaryMuscle, secondaryMuscles, equipment, difficulty, instructions, tips, category) ✅&#10;- [x] **workout_days** table: Stores daily workout sessions ✅&#10;- [x] **workout_entries** table: Links exercises to workout days ✅&#10;- [x] **set_entries** table: Individual set tracking with timing ✅&#10;- [x] **workout_templates** table: Template definitions for reusable workouts ✅&#10;- [x] **template_exercises** table: Junction table linking templates to exercises ✅&#10;&#10;### Features Working&#10;- [x] PPL workout creation based on day of week&#10;- [x] Exercise detail screens with set progression&#10;- [x] Individual set timing and completion tracking&#10;- [x] Cross-exercise contamination fixed&#10;- [x] Database reset functionality for development&#10;- [x] Timer functionality with start/stop per set&#10;- [x] Enhanced exercise library with rich metadata&#10;&#10;### Current Architecture&#10;- **Exercise Library**: Rich metadata with 34+ exercises in `ExerciseData.getPPLExercises()` ✅&#10;- **Template System**: Complete entities and DAOs created ✅&#10;- **Workout Logic**: Day-based (to be migrated to template-based)&#10;- **Database Version**: 7 (with template system migration)&#10;&#10;---&#10;&#10;## Phase 1: Enhanced Exercise Library &amp; Templates &#10;&#10;### 1.1 Enhance Exercise Entity ✅ **COMPLETED**&#10;- [x] **1.1.1** Expanded Exercise entity with additional fields ✅&#10;- [x] **1.1.2** Created database migration (Version 5 → 6) ✅&#10;- [x] **1.1.3** Updated exercise data with rich metadata ✅&#10;&#10;### 1.2 Create Workout Templates System ✅ **COMPLETED**&#10;- [x] **1.2.1** Created WorkoutTemplate entity ✅&#10;- [x] **1.2.2** Created TemplateExercise junction entity ✅&#10;- [x] **1.2.3** Created corresponding DAOs (WorkoutTemplateDao, TemplateExerciseDao) ✅&#10;- [x] **1.2.4** Updated database schema (Version 6 → 7) ✅&#10;- [x] **1.2.5** Created PPL template data with 6 predefined templates ✅&#10;&#10;### 1.3 Implement Template-Based Workout Creation  **IN PROGRESS**&#10;**Goal**: Replace current day-based workout creation with template selection&#10;&#10;#### Tasks:&#10;- [ ] **1.3.1** Update Repository to use templates:&#10;  ```kotlin&#10;  suspend fun createWorkoutFromTemplate(templateId: Int, date: String): List&lt;WorkoutEntry&gt;&#10;  ```&#10;&#10;- [ ] **1.3.2** Populate templates in database on first run ⭐ **NEXT**&#10;- [ ] **1.3.3** Update ViewModel to use template-based creation&#10;- [ ] **1.3.4** Migrate from day-based to template-based workout creation&#10;- [ ] **1.3.5** Update UI to show template selection (optional for phase 1)&#10;&#10;---&#10;&#10;## Phase 2: Advanced Features &#10;&#10;### 2.1 Progress Tracking&#10;- [ ] Create PersonalRecord entity for 1RM tracking&#10;- [ ] Implement weight progression suggestions&#10;- [ ] Add exercise history graphs&#10;&#10;### 2.2 Custom Workouts&#10;- [ ] Allow users to create custom templates&#10;- [ ] Exercise substitution system&#10;- [ ] Workout sharing functionality&#10;&#10;### 2.3 Analytics &amp; Insights&#10;- [ ] Weekly/monthly progress reports&#10;- [ ] Muscle group balance analysis&#10;- [ ] Training volume analytics&#10;&#10;---&#10;&#10;## Phase 3: Production Ready &#10;&#10;### 3.1 Performance Optimization&#10;- [ ] Database indexing optimization&#10;- [ ] LazyColumn performance improvements&#10;- [ ] Background data sync&#10;&#10;### 3.2 User Experience&#10;- [ ] Onboarding flow&#10;- [ ] Exercise video/animation support&#10;- [ ] Dark mode theme improvements&#10;&#10;### 3.3 Data Management&#10;- [ ] Export/import functionality&#10;- [ ] Cloud backup integration&#10;- [ ] Data migration between devices&#10;&#10;---&#10;&#10;## Implementation Priority &#10;&#10;### Sprint 1 (Week 1): Foundation ✅ **COMPLETED**&#10;1. **1.1.1** - Enhance Exercise Entity ⭐ ✅ **DONE**&#10;2. **1.1.2** - Database Migration 5→6 ✅ **DONE**&#10;3. **1.1.3** - Update exercise data with metadata ✅ **DONE**&#10;&#10;### Sprint 2 (Week 2): Templates&#10;4. **1.2.1** - WorkoutTemplate entity&#10;5. **1.2.2** - TemplateExercise junction&#10;6. **1.2.3** - Template DAOs&#10;&#10;### Sprint 3 (Week 3): Integration&#10;7. **1.3.1** - Template-based repository&#10;8. **1.3.2** - Template population&#10;9. **1.3.3** - ViewModel updates&#10;&#10;---&#10;&#10;## Week 1 Sprint 1 - Completed Features &#10;&#10;### ✅ Enhanced Exercise Entity&#10;- **Before**: Simple Exercise entity with only `id`, `name`, `isCompound`&#10;- **After**: Rich Exercise entity with 8 additional fields:&#10;  - `primaryMuscle`: Main muscle group targeted&#10;  - `secondaryMuscles`: Secondary muscles (comma separated)&#10;  - `equipment`: Required equipment type&#10;  - `difficulty`: Beginner/Intermediate/Advanced&#10;  - `instructions`: Step-by-step exercise guide&#10;  - `tips`: Form tips and common mistakes&#10;  - `category`: Push/Pull/Legs classification&#10;&#10;### ✅ Database Migration v5 → v6&#10;- **Migration**: Properly implemented Room database migration&#10;- **Backward Compatibility**: Existing data preserved during migration&#10;- **New Columns**: All new fields added with appropriate defaults&#10;- **Build Status**: ✅ Build successful, no compilation errors&#10;&#10;### ✅ Rich Exercise Data Library&#10;- **New File**: Created `ExerciseData.kt` with comprehensive metadata&#10;- **All 34 Exercises**: Each exercise now includes:&#10;  - Detailed step-by-step instructions&#10;  - Form tips and safety advice&#10;  - Muscle group classifications&#10;  - Equipment requirements&#10;  - Difficulty levels&#10;- **Database Integration**: Database now uses the enhanced exercise data&#10;&#10;## Next Steps - Week 2 Sprint 2 &#10;Ready to start **Sprint 2** with workout templates system:&#10;1. Create `WorkoutTemplate` entity for flexible workout creation&#10;2. Create `TemplateExercise` junction table for template-exercise relationships&#10;3. Build corresponding DAOs for the new entities" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/ExerciseData.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/ExerciseData.kt" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data&#10;&#10;import com.example.offlinepplworkoutapp.data.entity.Exercise&#10;&#10;/**&#10; * Enhanced PPL Exercise Library with rich metadata&#10; * This contains all 34 exercises with detailed information for better user experience&#10; */&#10;object ExerciseData {&#10;    &#10;    fun getPPLExercises(): List&lt;Exercise&gt; {&#10;        return listOf(&#10;            // Push Day 1 (Monday) - Exercises 1-5&#10;            Exercise(&#10;                id = 1, &#10;                name = &quot;Barbell Bench Press&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Chest&quot;,&#10;                secondaryMuscles = &quot;Triceps,Front Delts&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Lie flat on bench with eyes under the bar\n2. Grip bar slightly wider than shoulder width\n3. Unrack and lower bar to chest with control\n4. Press bar up explosively to starting position&quot;,&#10;                tips = &quot;Keep shoulder blades retracted throughout movement. Don't bounce bar off chest. Maintain tight core.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 2, &#10;                name = &quot;Standing Overhead Press&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Shoulders&quot;,&#10;                secondaryMuscles = &quot;Triceps,Upper Chest,Core&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Stand with feet shoulder-width apart\n2. Grip bar at shoulder width, rest on front delts\n3. Press bar straight up overhead\n4. Lower with control to starting position&quot;,&#10;                tips = &quot;Keep core tight. Don't arch back excessively. Bar path should be straight up.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 3, &#10;                name = &quot;Incline Dumbbell Press&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Upper Chest&quot;,&#10;                secondaryMuscles = &quot;Front Delts,Triceps&quot;,&#10;                equipment = &quot;Dumbbells&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Set bench to 30-45 degree incline\n2. Hold dumbbells at chest level\n3. Press weights up and slightly together\n4. Lower with control to starting position&quot;,&#10;                tips = &quot;Don't press dumbbells straight up - bring them together at top. Control the negative.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 4, &#10;                name = &quot;Dumbbell Lateral Raise&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Side Delts&quot;,&#10;                secondaryMuscles = &quot;Front Delts,Rear Delts&quot;,&#10;                equipment = &quot;Dumbbells&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Stand with dumbbells at sides\n2. Raise arms out to sides until parallel to floor\n3. Lower with control\n4. Keep slight bend in elbows throughout&quot;,&#10;                tips = &quot;Lead with pinkies, not thumbs. Don't swing or use momentum. Focus on mind-muscle connection.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 5, &#10;                name = &quot;Cable Triceps Pushdown&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Triceps&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Cable Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Stand at cable machine with rope or bar attachment\n2. Keep elbows at sides\n3. Push weight down until arms are fully extended\n4. Return to starting position with control&quot;,&#10;                tips = &quot;Keep elbows stationary. Focus on triceps contraction at bottom. Don't lean forward.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;&#10;            // Pull Day 1 (Tuesday) - Exercises 6-11&#10;            Exercise(&#10;                id = 6, &#10;                name = &quot;Deadlift&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Posterior Chain&quot;,&#10;                secondaryMuscles = &quot;Traps,Lats,Glutes,Hamstrings,Core&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Advanced&quot;,&#10;                instructions = &quot;1. Stand with bar over mid-foot\n2. Bend down and grip bar outside legs\n3. Lift chest, engage lats\n4. Drive through heels and pull bar up legs\n5. Stand tall, then reverse movement&quot;,&#10;                tips = &quot;Keep bar close to body. Don't round back. Drive hips forward at top.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 7, &#10;                name = &quot;Pull-Ups or Lat Pulldowns&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Lats&quot;,&#10;                secondaryMuscles = &quot;Rhomboids,Middle Traps,Biceps&quot;,&#10;                equipment = &quot;Pull-up Bar/Cable Machine&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Hang from bar with overhand grip\n2. Pull body up until chin clears bar\n3. Lower with control to full hang\n4. If using cable, pull bar to upper chest&quot;,&#10;                tips = &quot;Don't swing or kip. Focus on pulling with lats, not arms. Full range of motion.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 8, &#10;                name = &quot;Bent-Over Barbell Row&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Middle Traps&quot;,&#10;                secondaryMuscles = &quot;Rhomboids,Lats,Rear Delts,Biceps&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Hinge at hips with slight knee bend\n2. Hold bar with overhand grip\n3. Pull bar to lower chest/upper abdomen\n4. Lower with control&quot;,&#10;                tips = &quot;Keep torso angle consistent. Don't use momentum. Squeeze shoulder blades together.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 9, &#10;                name = &quot;Face Pull&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Rear Delts&quot;,&#10;                secondaryMuscles = &quot;Middle Traps,Rhomboids&quot;,&#10;                equipment = &quot;Cable Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Set cable at face height with rope attachment\n2. Pull rope to face, separating hands\n3. Focus on rear delt contraction\n4. Return with control&quot;,&#10;                tips = &quot;Keep elbows high. Don't use too much weight. Focus on form over weight.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 10, &#10;                name = &quot;Barbell Biceps Curl&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Biceps&quot;,&#10;                secondaryMuscles = &quot;Forearms&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Stand with bar at arm's length\n2. Keep elbows at sides\n3. Curl bar up to chest level\n4. Lower with control&quot;,&#10;                tips = &quot;Don't swing or use momentum. Keep elbows stationary. Control the negative.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 11, &#10;                name = &quot;Hammer Curl&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Biceps&quot;,&#10;                secondaryMuscles = &quot;Forearms,Brachialis&quot;,&#10;                equipment = &quot;Dumbbells&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Hold dumbbells with neutral grip (palms facing each other)\n2. Keep elbows at sides\n3. Curl weights up\n4. Lower with control&quot;,&#10;                tips = &quot;Maintain neutral grip throughout. Don't swing weights. Focus on bicep contraction.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;&#10;            // Legs Day 1 (Wednesday) - Exercises 12-16&#10;            Exercise(&#10;                id = 12, &#10;                name = &quot;Back Squat&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Quadriceps&quot;,&#10;                secondaryMuscles = &quot;Glutes,Hamstrings,Core&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Position bar on upper traps\n2. Stand with feet shoulder-width apart\n3. Descend by sitting back and down\n4. Drive through heels to stand&quot;,&#10;                tips = &quot;Keep chest up and knees tracking over toes. Go to parallel or below. Don't let knees cave in.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 13, &#10;                name = &quot;Romanian Deadlift&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Hamstrings&quot;,&#10;                secondaryMuscles = &quot;Glutes,Lower Back&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Hold bar at hip level\n2. Keep slight knee bend\n3. Hinge at hips, lowering bar\n4. Drive hips forward to return&quot;,&#10;                tips = &quot;Keep bar close to legs. Feel stretch in hamstrings. Don't round back.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 14, &#10;                name = &quot;Leg Press&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Quadriceps&quot;,&#10;                secondaryMuscles = &quot;Glutes,Hamstrings&quot;,&#10;                equipment = &quot;Leg Press Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Sit in leg press machine\n2. Place feet shoulder-width apart on platform\n3. Lower weight until knees are at 90 degrees\n4. Press through heels to extend legs&quot;,&#10;                tips = &quot;Don't lock knees completely. Keep core engaged. Control both directions.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 15, &#10;                name = &quot;Lying Leg Curl&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Hamstrings&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Leg Curl Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Lie face down on leg curl machine\n2. Position ankles under pads\n3. Curl heels toward glutes\n4. Lower with control&quot;,&#10;                tips = &quot;Don't lift hips off pad. Full range of motion. Control the negative.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 16, &#10;                name = &quot;Seated Calf Raise&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Calves&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Calf Raise Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Sit in calf raise machine\n2. Position balls of feet on platform\n3. Raise heels as high as possible\n4. Lower to full stretch&quot;,&#10;                tips = &quot;Get full range of motion. Pause at top. Feel stretch at bottom.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;&#10;            // Push Day 2 (Thursday) - Exercises 17-22&#10;            Exercise(&#10;                id = 17, &#10;                name = &quot;Standing Overhead Press&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Shoulders&quot;,&#10;                secondaryMuscles = &quot;Triceps,Upper Chest,Core&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Stand with feet shoulder-width apart\n2. Grip bar at shoulder width, rest on front delts\n3. Press bar straight up overhead\n4. Lower with control to starting position&quot;,&#10;                tips = &quot;Keep core tight. Don't arch back excessively. Bar path should be straight up.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 18, &#10;                name = &quot;Incline Barbell Press&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Upper Chest&quot;,&#10;                secondaryMuscles = &quot;Front Delts,Triceps&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Set bench to 30-45 degree incline\n2. Lie back and grip bar slightly wider than shoulders\n3. Lower bar to upper chest\n4. Press bar up and slightly back&quot;,&#10;                tips = &quot;Don't touch bar to neck. Keep shoulder blades retracted. Control the descent.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 19, &#10;                name = &quot;Weighted Dips&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Lower Chest&quot;,&#10;                secondaryMuscles = &quot;Triceps,Front Delts&quot;,&#10;                equipment = &quot;Dip Station&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Support body on dip bars\n2. Lower body by bending elbows\n3. Descend until shoulders are below elbows\n4. Press back up to starting position&quot;,&#10;                tips = &quot;Lean slightly forward for chest emphasis. Don't go too deep if shoulders hurt. Control the movement.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 20, &#10;                name = &quot;Cable Lateral Raise&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Side Delts&quot;,&#10;                secondaryMuscles = &quot;Front Delts&quot;,&#10;                equipment = &quot;Cable Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Stand sideways to cable machine\n2. Grab handle with far hand\n3. Raise arm out to side until parallel to floor\n4. Lower with control&quot;,&#10;                tips = &quot;Use one arm at a time for better control. Don't swing or use momentum. Feel the burn.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 21, &#10;                name = &quot;Pec Deck or Dumbbell Fly&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Chest&quot;,&#10;                secondaryMuscles = &quot;Front Delts&quot;,&#10;                equipment = &quot;Pec Deck/Dumbbells&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Sit in pec deck or lie on bench with dumbbells\n2. Bring arms together in wide arc\n3. Squeeze chest muscles at peak contraction\n4. Return to starting position with control&quot;,&#10;                tips = &quot;Focus on chest squeeze, not weight moved. Keep slight bend in elbows. Feel the stretch.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;            Exercise(&#10;                id = 22, &#10;                name = &quot;Overhead Cable Triceps Extension&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Triceps&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Cable Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Face away from cable machine\n2. Hold rope overhead with arms extended\n3. Lower rope behind head by bending elbows\n4. Extend arms back to starting position&quot;,&#10;                tips = &quot;Keep elbows stationary and pointing forward. Don't let elbows flare out. Full range of motion.&quot;,&#10;                category = &quot;Push&quot;&#10;            ),&#10;&#10;            // Pull Day 2 (Friday) - Exercises 23-28&#10;            Exercise(&#10;                id = 23, &#10;                name = &quot;Pendlay or Bent-Over Row&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Middle Traps&quot;,&#10;                secondaryMuscles = &quot;Rhomboids,Lats,Rear Delts,Biceps&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Bend over with torso parallel to floor\n2. Grip bar with overhand grip\n3. Pull bar explosively to lower chest\n4. Lower bar to floor with control&quot;,&#10;                tips = &quot;Start each rep from dead stop. Keep torso parallel. Don't use leg drive.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 24, &#10;                name = &quot;Weighted Pull-Ups or Wide-Grip Lat Pulldown&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Lats&quot;,&#10;                secondaryMuscles = &quot;Rhomboids,Middle Traps,Biceps&quot;,&#10;                equipment = &quot;Pull-up Bar/Cable Machine&quot;,&#10;                difficulty = &quot;Advanced&quot;,&#10;                instructions = &quot;1. Use wide grip on bar\n2. Pull body up or bar down to upper chest\n3. Focus on lat engagement\n4. Lower with control&quot;,&#10;                tips = &quot;Think about pulling elbows down and back. Don't use biceps primarily. Full range of motion.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 25, &#10;                name = &quot;Dumbbell Shrug&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Upper Traps&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Dumbbells&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Hold dumbbells at sides\n2. Shrug shoulders straight up\n3. Hold peak contraction briefly\n4. Lower shoulders with control&quot;,&#10;                tips = &quot;Don't roll shoulders. Straight up and down motion. Focus on trap contraction.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 26, &#10;                name = &quot;Face Pull&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Rear Delts&quot;,&#10;                secondaryMuscles = &quot;Middle Traps,Rhomboids&quot;,&#10;                equipment = &quot;Cable Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Set cable at face height with rope attachment\n2. Pull rope to face, separating hands\n3. Focus on rear delt contraction\n4. Return with control&quot;,&#10;                tips = &quot;Keep elbows high. Don't use too much weight. Focus on form over weight.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 27, &#10;                name = &quot;EZ-Bar Biceps Curl&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Biceps&quot;,&#10;                secondaryMuscles = &quot;Forearms&quot;,&#10;                equipment = &quot;EZ-Bar&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Hold EZ-bar with underhand grip\n2. Keep elbows at sides\n3. Curl bar up to chest level\n4. Lower with control&quot;,&#10;                tips = &quot;EZ-bar is easier on wrists than straight bar. Don't swing. Control the negative.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;            Exercise(&#10;                id = 28, &#10;                name = &quot;Reverse Grip or Preacher Curl&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Biceps&quot;,&#10;                secondaryMuscles = &quot;Forearms,Brachialis&quot;,&#10;                equipment = &quot;Barbell/Dumbbells&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Use overhand grip for reverse curl or preacher bench\n2. Curl weight up focusing on bicep contraction\n3. Lower with control\n4. Don't use momentum&quot;,&#10;                tips = &quot;Reverse curls target brachialis more. Preacher curls provide constant tension. Control the weight.&quot;,&#10;                category = &quot;Pull&quot;&#10;            ),&#10;&#10;            // Legs Day 2 (Saturday) - Exercises 29-34&#10;            Exercise(&#10;                id = 29, &#10;                name = &quot;Front Squat&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Quadriceps&quot;,&#10;                secondaryMuscles = &quot;Glutes,Core&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Advanced&quot;,&#10;                instructions = &quot;1. Position bar on front delts in front rack position\n2. Keep elbows high and chest up\n3. Descend into squat\n4. Drive through heels to stand&quot;,&#10;                tips = &quot;More quad-focused than back squat. Keep torso upright. May need lighter weight than back squat.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 30, &#10;                name = &quot;Bulgarian Split Squat&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Quadriceps&quot;,&#10;                secondaryMuscles = &quot;Glutes,Hamstrings&quot;,&#10;                equipment = &quot;Dumbbells&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Stand in lunge position with rear foot elevated\n2. Lower into lunge by bending front leg\n3. Keep most weight on front leg\n4. Drive through front heel to return&quot;,&#10;                tips = &quot;Don't put too much weight on back foot. Keep torso upright. Full range of motion.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 31, &#10;                name = &quot;Barbell Hip Thrust&quot;, &#10;                isCompound = true,&#10;                primaryMuscle = &quot;Glutes&quot;,&#10;                secondaryMuscles = &quot;Hamstrings&quot;,&#10;                equipment = &quot;Barbell&quot;,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                instructions = &quot;1. Sit with back against bench, bar across hips\n2. Drive through heels to lift hips up\n3. Squeeze glutes at top\n4. Lower with control&quot;,&#10;                tips = &quot;Focus on glute contraction. Don't overextend lower back. Use pad for comfort.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 32, &#10;                name = &quot;Leg Extension&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Quadriceps&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Leg Extension Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Sit in leg extension machine\n2. Position ankles under pads\n3. Extend legs until straight\n4. Lower with control&quot;,&#10;                tips = &quot;Don't lock knees aggressively. Control both directions. Feel quad contraction.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 33, &#10;                name = &quot;Seated or Lying Leg Curl&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Hamstrings&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Leg Curl Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Position yourself in leg curl machine\n2. Place ankles under pads\n3. Curl heels toward glutes\n4. Lower with control&quot;,&#10;                tips = &quot;Don't lift hips off pad. Full range of motion. Control the negative.&quot;,&#10;                category = &quot;Legs&quot;&#10;            ),&#10;            Exercise(&#10;                id = 34, &#10;                name = &quot;Standing Calf Raise&quot;, &#10;                isCompound = false,&#10;                primaryMuscle = &quot;Calves&quot;,&#10;                secondaryMuscles = &quot;&quot;,&#10;                equipment = &quot;Calf Raise Machine&quot;,&#10;                difficulty = &quot;Beginner&quot;,&#10;                instructions = &quot;1. Stand in calf raise machine\n2. Position balls of feet on platform\n3. Raise heels as high as possible\n4. Lower to full stretch&quot;,&#10;                tips = &quot;Get full range of motion. Pause at top. Feel stretch at bottom. Don't bounce.&quot;,&#10;                category = &quot;Legs&quot;&#10;            )&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/PPLTemplateData.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/PPLTemplateData.kt" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data&#10;&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutTemplate&#10;import com.example.offlinepplworkoutapp.data.entity.TemplateExercise&#10;&#10;/**&#10; * PPL Workout Templates Data&#10; * &#10; * This defines the predefined workout templates that replace the hardcoded day-based logic.&#10; * Each template contains a structured workout with specific exercises, sets, reps, and rest periods.&#10; */&#10;object PPLTemplateData {&#10;    &#10;    fun getPPLTemplates(): List&lt;WorkoutTemplate&gt; {&#10;        return listOf(&#10;            // PUSH DAY TEMPLATES&#10;            WorkoutTemplate(&#10;                id = 1,&#10;                name = &quot;Push Day 1 - Chest Focus&quot;,&#10;                description = &quot;Chest-focused push workout with barbell and dumbbell movements&quot;,&#10;                estimatedDuration = 75,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                category = &quot;Push&quot;,&#10;                isCustom = false,&#10;                isActive = true&#10;            ),&#10;            WorkoutTemplate(&#10;                id = 2,&#10;                name = &quot;Push Day 2 - Shoulder Focus&quot;, &#10;                description = &quot;Shoulder-focused push workout with overhead pressing emphasis&quot;,&#10;                estimatedDuration = 70,&#10;                difficulty = &quot;Intermediate&quot;, &#10;                category = &quot;Push&quot;,&#10;                isCustom = false,&#10;                isActive = true&#10;            ),&#10;            &#10;            // PULL DAY TEMPLATES&#10;            WorkoutTemplate(&#10;                id = 3,&#10;                name = &quot;Pull Day 1 - Back Width&quot;,&#10;                description = &quot;Back width focused pull workout with lat pulldowns and rows&quot;,&#10;                estimatedDuration = 75,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                category = &quot;Pull&quot;, &#10;                isCustom = false,&#10;                isActive = true&#10;            ),&#10;            WorkoutTemplate(&#10;                id = 4,&#10;                name = &quot;Pull Day 2 - Back Thickness&quot;,&#10;                description = &quot;Back thickness focused pull workout with heavy rows and deadlifts&quot;,&#10;                estimatedDuration = 80,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                category = &quot;Pull&quot;,&#10;                isCustom = false,&#10;                isActive = true&#10;            ),&#10;            &#10;            // LEGS DAY TEMPLATES&#10;            WorkoutTemplate(&#10;                id = 5,&#10;                name = &quot;Legs Day 1 - Quad Focus&quot;,&#10;                description = &quot;Quad-focused leg workout with squats and extensions&quot;,&#10;                estimatedDuration = 85,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                category = &quot;Legs&quot;,&#10;                isCustom = false,&#10;                isActive = true&#10;            ),&#10;            WorkoutTemplate(&#10;                id = 6,&#10;                name = &quot;Legs Day 2 - Posterior Chain&quot;,&#10;                description = &quot;Hamstring and glute focused leg workout with deadlifts and curls&quot;,&#10;                estimatedDuration = 80,&#10;                difficulty = &quot;Intermediate&quot;,&#10;                category = &quot;Legs&quot;,&#10;                isCustom = false,&#10;                isActive = true&#10;            )&#10;        )&#10;    }&#10;    &#10;    fun getTemplateExercises(): List&lt;TemplateExercise&gt; {&#10;        return listOf(&#10;            // PUSH DAY 1 - CHEST FOCUS (Template ID: 1)&#10;            TemplateExercise(templateId = 1, exerciseId = 1, orderIndex = 0, sets = 4, reps = 8, restSeconds = 180), // Barbell Bench Press&#10;            TemplateExercise(templateId = 1, exerciseId = 2, orderIndex = 1, sets = 4, reps = 8, restSeconds = 180), // Standing Overhead Press&#10;            TemplateExercise(templateId = 1, exerciseId = 3, orderIndex = 2, sets = 3, reps = 10, restSeconds = 120), // Incline Dumbbell Press&#10;            TemplateExercise(templateId = 1, exerciseId = 4, orderIndex = 3, sets = 3, reps = 12, restSeconds = 90), // Dumbbell Flyes&#10;            TemplateExercise(templateId = 1, exerciseId = 5, orderIndex = 4, sets = 3, reps = 12, restSeconds = 90), // Tricep Dips&#10;            &#10;            // PUSH DAY 2 - SHOULDER FOCUS (Template ID: 2)  &#10;            TemplateExercise(templateId = 2, exerciseId = 2, orderIndex = 0, sets = 4, reps = 8, restSeconds = 180), // Standing Overhead Press&#10;            TemplateExercise(templateId = 2, exerciseId = 1, orderIndex = 1, sets = 4, reps = 8, restSeconds = 180), // Barbell Bench Press&#10;            TemplateExercise(templateId = 2, exerciseId = 6, orderIndex = 2, sets = 3, reps = 12, restSeconds = 90), // Lateral Raises&#10;            TemplateExercise(templateId = 2, exerciseId = 7, orderIndex = 3, sets = 3, reps = 12, restSeconds = 90), // Rear Delt Flyes&#10;            TemplateExercise(templateId = 2, exerciseId = 8, orderIndex = 4, sets = 3, reps = 12, restSeconds = 90), // Close-Grip Bench Press&#10;            &#10;            // PULL DAY 1 - BACK WIDTH (Template ID: 3)&#10;            TemplateExercise(templateId = 3, exerciseId = 9, orderIndex = 0, sets = 4, reps = 8, restSeconds = 180), // Deadlifts&#10;            TemplateExercise(templateId = 3, exerciseId = 10, orderIndex = 1, sets = 4, reps = 10, restSeconds = 120), // Pull-ups/Lat Pulldowns&#10;            TemplateExercise(templateId = 3, exerciseId = 11, orderIndex = 2, sets = 4, reps = 10, restSeconds = 120), // Pendlay or Bent-Over Row&#10;            TemplateExercise(templateId = 3, exerciseId = 12, orderIndex = 3, sets = 3, reps = 12, restSeconds = 90), // Cable Rows&#10;            TemplateExercise(templateId = 3, exerciseId = 13, orderIndex = 4, sets = 3, reps = 12, restSeconds = 90), // Face Pulls&#10;            TemplateExercise(templateId = 3, exerciseId = 14, orderIndex = 5, sets = 4, reps = 12, restSeconds = 90), // Barbell or Dumbbell Curls&#10;            &#10;            // PULL DAY 2 - BACK THICKNESS (Template ID: 4)&#10;            TemplateExercise(templateId = 4, exerciseId = 11, orderIndex = 0, sets = 4, reps = 8, restSeconds = 180), // Pendlay or Bent-Over Row&#10;            TemplateExercise(templateId = 4, exerciseId = 9, orderIndex = 1, sets = 4, reps = 6, restSeconds = 180), // Deadlifts&#10;            TemplateExercise(templateId = 4, exerciseId = 15, orderIndex = 2, sets = 3, reps = 10, restSeconds = 120), // T-Bar Row&#10;            TemplateExercise(templateId = 4, exerciseId = 16, orderIndex = 3, sets = 3, reps = 12, restSeconds = 90), // Hammer Curls&#10;            TemplateExercise(templateId = 4, exerciseId = 17, orderIndex = 4, sets = 3, reps = 12, restSeconds = 90), // Cable Hammer Curls&#10;            TemplateExercise(templateId = 4, exerciseId = 18, orderIndex = 5, sets = 3, reps = 15, restSeconds = 60), // Shrugs&#10;            &#10;            // LEGS DAY 1 - QUAD FOCUS (Template ID: 5)&#10;            TemplateExercise(templateId = 5, exerciseId = 19, orderIndex = 0, sets = 4, reps = 8, restSeconds = 180), // Back Squat&#10;            TemplateExercise(templateId = 5, exerciseId = 20, orderIndex = 1, sets = 4, reps = 10, restSeconds = 120), // Romanian Deadlifts&#10;            TemplateExercise(templateId = 5, exerciseId = 21, orderIndex = 2, sets = 3, reps = 12, restSeconds = 90), // Bulgarian Split Squat&#10;            TemplateExercise(templateId = 5, exerciseId = 22, orderIndex = 3, sets = 3, reps = 15, restSeconds = 90), // Leg Press&#10;            TemplateExercise(templateId = 5, exerciseId = 23, orderIndex = 4, sets = 3, reps = 15, restSeconds = 90), // Leg Extension&#10;            TemplateExercise(templateId = 5, exerciseId = 24, orderIndex = 5, sets = 4, reps = 15, restSeconds = 60), // Standing Calf Raise&#10;            &#10;            // LEGS DAY 2 - POSTERIOR CHAIN (Template ID: 6)&#10;            TemplateExercise(templateId = 6, exerciseId = 25, orderIndex = 0, sets = 4, reps = 8, restSeconds = 180), // Front Squat&#10;            TemplateExercise(templateId = 6, exerciseId = 26, orderIndex = 1, sets = 3, reps = 12, restSeconds = 120), // Bulgarian Split Squat&#10;            TemplateExercise(templateId = 6, exerciseId = 27, orderIndex = 2, sets = 3, reps = 12, restSeconds = 120), // Barbell Hip Thrust&#10;            TemplateExercise(templateId = 6, exerciseId = 28, orderIndex = 3, sets = 3, reps = 15, restSeconds = 90), // Leg Extension&#10;            TemplateExercise(templateId = 6, exerciseId = 29, orderIndex = 4, sets = 3, reps = 15, restSeconds = 90), // Seated or Lying Leg Curl&#10;            TemplateExercise(templateId = 6, exerciseId = 30, orderIndex = 5, sets = 4, reps = 15, restSeconds = 60) // Standing Calf Raise&#10;        )&#10;    }&#10;    &#10;    /**&#10;     * Gets the appropriate template ID based on day of week and current cycle&#10;     * This maintains backward compatibility with the existing day-based system&#10;     */&#10;    fun getTemplateIdForDay(dayOfWeek: Int): Int {&#10;        return when (dayOfWeek) {&#10;            1 -&gt; 1 // Monday: Push Day 1 - Chest Focus&#10;            2 -&gt; 3 // Tuesday: Pull Day 1 - Back Width  &#10;            3 -&gt; 5 // Wednesday: Legs Day 1 - Quad Focus&#10;            4 -&gt; 2 // Thursday: Push Day 2 - Shoulder Focus&#10;            5 -&gt; 4 // Friday: Pull Day 2 - Back Thickness&#10;            6 -&gt; 6 // Saturday: Legs Day 2 - Posterior Chain&#10;            else -&gt; 1 // Default to Push Day 1&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/dao/TemplateExerciseDao.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/dao/TemplateExerciseDao.kt" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data.dao&#10;&#10;import androidx.room.Dao&#10;import androidx.room.Insert&#10;import androidx.room.Query&#10;import androidx.room.Update&#10;import androidx.room.Delete&#10;import androidx.room.Transaction&#10;import com.example.offlinepplworkoutapp.data.entity.TemplateExercise&#10;import com.example.offlinepplworkoutapp.data.entity.Exercise&#10;import kotlinx.coroutines.flow.Flow&#10;&#10;/**&#10; * Data Access Object for TemplateExercise operations&#10; */&#10;@Dao&#10;interface TemplateExerciseDao {&#10;&#10;    @Query(&quot;SELECT * FROM template_exercises WHERE templateId = :templateId ORDER BY orderIndex&quot;)&#10;    suspend fun getExercisesForTemplate(templateId: Int): List&lt;TemplateExercise&gt;&#10;&#10;    @Query(&quot;&quot;&quot;&#10;        SELECT e.* FROM exercises e &#10;        INNER JOIN template_exercises te ON e.id = te.exerciseId &#10;        WHERE te.templateId = :templateId &#10;        ORDER BY te.orderIndex&#10;    &quot;&quot;&quot;)&#10;    suspend fun getExerciseDetailsForTemplate(templateId: Int): List&lt;Exercise&gt;&#10;&#10;    @Query(&quot;&quot;&quot;&#10;        SELECT te.*, e.name as exerciseName, e.primaryMuscle, e.equipment &#10;        FROM template_exercises te &#10;        INNER JOIN exercises e ON te.exerciseId = e.id &#10;        WHERE te.templateId = :templateId &#10;        ORDER BY te.orderIndex&#10;    &quot;&quot;&quot;)&#10;    fun getTemplateExercisesWithDetails(templateId: Int): Flow&lt;List&lt;TemplateExerciseWithDetails&gt;&gt;&#10;&#10;    @Query(&quot;SELECT * FROM template_exercises WHERE id = :id&quot;)&#10;    suspend fun getTemplateExerciseById(id: Int): TemplateExercise?&#10;&#10;    @Insert&#10;    suspend fun insertTemplateExercise(templateExercise: TemplateExercise): Long&#10;&#10;    @Insert&#10;    suspend fun insertTemplateExercises(templateExercises: List&lt;TemplateExercise&gt;)&#10;&#10;    @Update&#10;    suspend fun updateTemplateExercise(templateExercise: TemplateExercise)&#10;&#10;    @Delete&#10;    suspend fun deleteTemplateExercise(templateExercise: TemplateExercise)&#10;&#10;    @Query(&quot;DELETE FROM template_exercises WHERE templateId = :templateId&quot;)&#10;    suspend fun deleteExercisesForTemplate(templateId: Int): Int&#10;&#10;    @Query(&quot;DELETE FROM template_exercises&quot;)&#10;    suspend fun deleteAll(): Int&#10;&#10;    @Query(&quot;SELECT COUNT(*) FROM template_exercises WHERE templateId = :templateId&quot;)&#10;    suspend fun getExerciseCountForTemplate(templateId: Int): Int&#10;&#10;    @Query(&quot;SELECT MAX(orderIndex) FROM template_exercises WHERE templateId = :templateId&quot;)&#10;    suspend fun getMaxOrderIndexForTemplate(templateId: Int): Int?&#10;&#10;    @Query(&quot;UPDATE template_exercises SET orderIndex = orderIndex - 1 WHERE templateId = :templateId AND orderIndex &gt; :deletedIndex&quot;)&#10;    suspend fun reorderAfterDeletion(templateId: Int, deletedIndex: Int)&#10;}&#10;&#10;/**&#10; * Data class for template exercises with exercise details&#10; */&#10;data class TemplateExerciseWithDetails(&#10;    val id: Int,&#10;    val templateId: Int,&#10;    val exerciseId: Int,&#10;    val orderIndex: Int,&#10;    val sets: Int,&#10;    val reps: Int,&#10;    val restSeconds: Int,&#10;    val weight: Double,&#10;    val notes: String,&#10;    val isSuperset: Boolean,&#10;    val supersetGroup: Int,&#10;    val exerciseName: String,&#10;    val primaryMuscle: String,&#10;    val equipment: String&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/dao/WorkoutTemplateDao.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/dao/WorkoutTemplateDao.kt" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data.dao&#10;&#10;import androidx.room.Dao&#10;import androidx.room.Insert&#10;import androidx.room.Query&#10;import androidx.room.Update&#10;import androidx.room.Delete&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutTemplate&#10;import kotlinx.coroutines.flow.Flow&#10;&#10;/**&#10; * Data Access Object for WorkoutTemplate operations&#10; */&#10;@Dao&#10;interface WorkoutTemplateDao {&#10;&#10;    @Query(&quot;SELECT * FROM workout_templates WHERE isActive = 1 ORDER BY category, name&quot;)&#10;    fun getAllActiveTemplates(): Flow&lt;List&lt;WorkoutTemplate&gt;&gt;&#10;&#10;    @Query(&quot;SELECT * FROM workout_templates WHERE category = :category AND isActive = 1 ORDER BY name&quot;)&#10;    fun getTemplatesByCategory(category: String): Flow&lt;List&lt;WorkoutTemplate&gt;&gt;&#10;&#10;    @Query(&quot;SELECT * FROM workout_templates WHERE id = :templateId&quot;)&#10;    suspend fun getTemplateById(templateId: Int): WorkoutTemplate?&#10;&#10;    @Query(&quot;SELECT * FROM workout_templates WHERE category = :category AND difficulty = :difficulty AND isActive = 1&quot;)&#10;    suspend fun getTemplatesByCategoryAndDifficulty(category: String, difficulty: String): List&lt;WorkoutTemplate&gt;&#10;&#10;    @Insert&#10;    suspend fun insertTemplate(template: WorkoutTemplate): Long&#10;&#10;    @Insert&#10;    suspend fun insertTemplates(templates: List&lt;WorkoutTemplate&gt;)&#10;&#10;    @Update&#10;    suspend fun updateTemplate(template: WorkoutTemplate)&#10;&#10;    @Delete&#10;    suspend fun deleteTemplate(template: WorkoutTemplate)&#10;&#10;    @Query(&quot;DELETE FROM workout_templates&quot;)&#10;    suspend fun deleteAll(): Int&#10;&#10;    @Query(&quot;SELECT COUNT(*) FROM workout_templates&quot;)&#10;    suspend fun getTemplateCount(): Int&#10;&#10;    @Query(&quot;UPDATE workout_templates SET lastUsedDate = :date WHERE id = :templateId&quot;)&#10;    suspend fun updateLastUsedDate(templateId: Int, date: String)&#10;&#10;    @Query(&quot;SELECT * FROM workout_templates WHERE isCustom = 1 AND isActive = 1 ORDER BY name&quot;)&#10;    fun getCustomTemplates(): Flow&lt;List&lt;WorkoutTemplate&gt;&gt;&#10;&#10;    @Query(&quot;SELECT * FROM workout_templates WHERE isCustom = 0 AND isActive = 1 ORDER BY category, name&quot;)&#10;    fun getPredefinedTemplates(): Flow&lt;List&lt;WorkoutTemplate&gt;&gt;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/database/PPLWorkoutDatabase.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/database/PPLWorkoutDatabase.kt" />
              <option name="originalContent" value="package com.example.offlinepplworkoutapp.data.database&#10;&#10;import androidx.room.Database&#10;import androidx.room.Room&#10;import androidx.room.RoomDatabase&#10;import androidx.room.migration.Migration&#10;import androidx.sqlite.db.SupportSQLiteDatabase&#10;import android.content.Context&#10;import com.example.offlinepplworkoutapp.data.dao.ExerciseDao&#10;import com.example.offlinepplworkoutapp.data.dao.WorkoutDayDao&#10;import com.example.offlinepplworkoutapp.data.dao.WorkoutEntryDao&#10;import com.example.offlinepplworkoutapp.data.dao.SetEntryDao&#10;import com.example.offlinepplworkoutapp.data.entity.Exercise&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutDay&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutEntry&#10;import com.example.offlinepplworkoutapp.data.entity.SetEntry&#10;import com.example.offlinepplworkoutapp.data.ExerciseData&#10;import kotlinx.coroutines.CoroutineScope&#10;import kotlinx.coroutines.Dispatchers&#10;import kotlinx.coroutines.launch&#10;import kotlinx.coroutines.withContext&#10;&#10;@Database(&#10;    entities = [Exercise::class, WorkoutDay::class, WorkoutEntry::class, SetEntry::class],&#10;    version = 6,  // Updated from 5 to 6&#10;    exportSchema = false&#10;)&#10;abstract class PPLWorkoutDatabase : RoomDatabase() {&#10;&#10;    abstract fun exerciseDao(): ExerciseDao&#10;    abstract fun workoutDayDao(): WorkoutDayDao&#10;    abstract fun workoutEntryDao(): WorkoutEntryDao&#10;    abstract fun setEntryDao(): SetEntryDao&#10;&#10;    private class PPLWorkoutDatabaseCallback : RoomDatabase.Callback() {&#10;&#10;        override fun onCreate(db: SupportSQLiteDatabase) {&#10;            super.onCreate(db)&#10;            INSTANCE?.let { database -&gt;&#10;                CoroutineScope(Dispatchers.IO).launch {&#10;                    populateDatabase(database.exerciseDao())&#10;                }&#10;            }&#10;        }&#10;&#10;        override fun onOpen(db: SupportSQLiteDatabase) {&#10;            super.onOpen(db)&#10;            // Ensure exercises are populated even if database already exists&#10;            INSTANCE?.let { database -&gt;&#10;                CoroutineScope(Dispatchers.IO).launch {&#10;                    val exerciseCount = database.exerciseDao().getExerciseCount()&#10;                    if (exerciseCount == 0) {&#10;                        populateDatabase(database.exerciseDao())&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        suspend fun populateDatabase(exerciseDao: ExerciseDao) {&#10;            // Clear existing data&#10;            exerciseDao.deleteAll()&#10;&#10;            // Insert PPL exercises&#10;            val exercises = getPPLExercises()&#10;            exerciseDao.insertAll(exercises)&#10;        }&#10;    }&#10;&#10;    companion object {&#10;        @Volatile&#10;        private var INSTANCE: PPLWorkoutDatabase? = null&#10;&#10;        // Migration from version 5 to 6 - Add new Exercise fields&#10;        val MIGRATION_5_6 = object : Migration(5, 6) {&#10;            override fun migrate(database: SupportSQLiteDatabase) {&#10;                println(&quot; MIGRATION: Starting migration from v5 to v6...&quot;)&#10;&#10;                // Add new columns to exercises table with default values&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN primaryMuscle TEXT NOT NULL DEFAULT ''&quot;)&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN secondaryMuscles TEXT NOT NULL DEFAULT ''&quot;)&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN equipment TEXT NOT NULL DEFAULT ''&quot;)&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN difficulty TEXT NOT NULL DEFAULT 'Intermediate'&quot;)&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN instructions TEXT NOT NULL DEFAULT ''&quot;)&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN tips TEXT NOT NULL DEFAULT ''&quot;)&#10;                database.execSQL(&quot;ALTER TABLE exercises ADD COLUMN category TEXT NOT NULL DEFAULT ''&quot;)&#10;&#10;                println(&quot; MIGRATION: Successfully added new columns to exercises table&quot;)&#10;            }&#10;        }&#10;&#10;        fun getDatabase(context: Context): PPLWorkoutDatabase {&#10;            return INSTANCE ?: synchronized(this) {&#10;                val instance = Room.databaseBuilder(&#10;                    context.applicationContext,&#10;                    PPLWorkoutDatabase::class.java,&#10;                    &quot;ppl_workout_database&quot;&#10;                )&#10;                    .addCallback(PPLWorkoutDatabaseCallback())&#10;                    .addMigrations(MIGRATION_5_6)  // Fixed: use addMigrations instead of addMigration&#10;                    .fallbackToDestructiveMigration()&#10;                    // Force database recreation to ensure clean state&#10;                    .build()&#10;&#10;                INSTANCE = instance&#10;                instance&#10;            }&#10;        }&#10;&#10;        // Reset database method - clears workout progress while preserving exercise definitions&#10;        suspend fun resetDatabase() {&#10;            INSTANCE?.let { database -&gt;&#10;                // Clear all user workout data directly (we're already in a suspend function)&#10;                database.workoutDayDao().deleteAll()&#10;                database.workoutEntryDao().deleteAll()&#10;                database.setEntryDao().deleteAll()&#10;&#10;                // Force close and invalidate all active connections to clear cache&#10;                database.clearAllTables()&#10;                database.invalidationTracker.refreshVersionsAsync()&#10;&#10;                // Note: We're not deleting exercises since that would remove the exercise library&#10;            }&#10;        }&#10;&#10;        // Method to completely reset the database instance (more aggressive)&#10;        suspend fun forceResetDatabase(context: Context) {&#10;            println(&quot; RESET: Starting forceResetDatabase...&quot;)&#10;&#10;            INSTANCE?.let { database -&gt;&#10;                println(&quot; RESET: Clearing all data from existing database...&quot;)&#10;&#10;                try {&#10;                    // Run database operations on IO dispatcher to avoid main thread issues&#10;                    withContext(Dispatchers.IO) {&#10;                        // Clear all data and log the results&#10;                        val workoutDaysDeleted = database.workoutDayDao().deleteAll()&#10;                        val workoutEntriesDeleted = database.workoutEntryDao().deleteAll()&#10;                        val setEntriesDeleted = database.setEntryDao().deleteAll()&#10;&#10;                        println(&quot; RESET: Deleted $workoutDaysDeleted workout days&quot;)&#10;                        println(&quot; RESET: Deleted $workoutEntriesDeleted workout entries&quot;)&#10;                        println(&quot; RESET: Deleted $setEntriesDeleted set entries&quot;)&#10;&#10;                        // Use the public API for invalidation instead of restricted refreshVersionsSync&#10;                        database.invalidationTracker.refreshVersionsAsync()&#10;                        println(&quot; RESET: Invalidated all cached queries (async)&quot;)&#10;&#10;                        // Clear all tables to reset Room's internal state&#10;                        database.clearAllTables()&#10;                        println(&quot; RESET: Cleared all Room tables&quot;)&#10;                    }&#10;&#10;                } catch (e: Exception) {&#10;                    println(&quot; RESET ERROR: ${e.message}&quot;)&#10;&#10;                    // If we get errors, fall back to recreating the database&#10;                    try {&#10;                        database.close()&#10;                        println(&quot; RESET: Closed database due to errors&quot;)&#10;                    } catch (closeError: Exception) {&#10;                        println(&quot; RESET: Error closing database: ${closeError.message}&quot;)&#10;                    }&#10;&#10;                    // Clear the singleton instance to force recreation&#10;                    INSTANCE = null&#10;                    println(&quot; RESET: Database instance cleared for recreation&quot;)&#10;                }&#10;            }&#10;&#10;            if (INSTANCE == null) {&#10;                // Force garbage collection to clear any remaining references&#10;                System.gc()&#10;                println(&quot; RESET: Garbage collection forced&quot;)&#10;&#10;                // Recreate the database instance&#10;                getDatabase(context)&#10;                println(&quot; RESET: Database recreated&quot;)&#10;            }&#10;&#10;            println(&quot; RESET: Reset complete&quot;)&#10;        }&#10;&#10;        // Method to verify database is empty (for debugging)&#10;        suspend fun verifyDatabaseEmpty(): Triple&lt;Int, Int, Int&gt; {&#10;            return INSTANCE?.let { database -&gt;&#10;                val workoutDays = database.workoutDayDao().getWorkoutDayCount()&#10;                val workoutEntries = database.workoutEntryDao().getWorkoutEntryCount()&#10;                val setEntries = database.setEntryDao().getSetEntryCount()&#10;                println(&quot; VERIFY: WorkoutDays: $workoutDays, WorkoutEntries: $workoutEntries, SetEntries: $setEntries&quot;)&#10;                Triple(workoutDays, workoutEntries, setEntries)&#10;            } ?: Triple(0, 0, 0)&#10;        }&#10;&#10;        // Method to force populate exercises when they're missing&#10;        suspend fun forcePopulateExercises() {&#10;            INSTANCE?.let { database -&gt;&#10;                println(&quot;️ DATABASE: Force populating exercises...&quot;)&#10;                try {&#10;                    val exerciseDao = database.exerciseDao()&#10;                    val exercises = ExerciseData.getPPLExercises() // Use new rich exercise data&#10;&#10;                    // Clear any existing exercises and insert fresh ones&#10;                    exerciseDao.deleteAll()&#10;                    exerciseDao.insertAll(exercises)&#10;&#10;                    println(&quot;️ DATABASE: Successfully inserted ${exercises.size} exercises&quot;)&#10;                } catch (e: Exception) {&#10;                    println(&quot;️ DATABASE ERROR: Failed to populate exercises - ${e.message}&quot;)&#10;                }&#10;            }&#10;        }&#10;&#10;        private fun getPPLExercises(): List&lt;Exercise&gt; {&#10;            // Delegate to the new ExerciseData class for better organization&#10;            return ExerciseData.getPPLExercises()&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data.database&#10;&#10;import androidx.room.Database&#10;import androidx.room.Room&#10;import androidx.room.RoomDatabase&#10;import androidx.room.migration.Migration&#10;import androidx.sqlite.db.SupportSQLiteDatabase&#10;import android.content.Context&#10;import com.example.offlinepplworkoutapp.data.dao.ExerciseDao&#10;import com.example.offlinepplworkoutapp.data.dao.WorkoutDayDao&#10;import com.example.offlinepplworkoutapp.data.dao.WorkoutEntryDao&#10;import com.example.offlinepplworkoutapp.data.dao.SetEntryDao&#10;import com.example.offlinepplworkoutapp.data.dao.WorkoutTemplateDao&#10;import com.example.offlinepplworkoutapp.data.dao.TemplateExerciseDao&#10;import com.example.offlinepplworkoutapp.data.entity.Exercise&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutDay&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutEntry&#10;import com.example.offlinepplworkoutapp.data.entity.SetEntry&#10;import com.example.offlinepplworkoutapp.data.entity.WorkoutTemplate&#10;import com.example.offlinepplworkoutapp.data.entity.TemplateExercise&#10;import com.example.offlinepplworkoutapp.data.ExerciseData&#10;import com.example.offlinepplworkoutapp.data.PPLTemplateData&#10;import kotlinx.coroutines.CoroutineScope&#10;import kotlinx.coroutines.Dispatchers&#10;import kotlinx.coroutines.launch&#10;import kotlinx.coroutines.withContext&#10;&#10;@Database(&#10;    entities = [Exercise::class, WorkoutDay::class, WorkoutEntry::class, SetEntry::class, WorkoutTemplate::class, TemplateExercise::class],&#10;    version = 7,  // Updated from 6 to 7 for template system&#10;    exportSchema = false&#10;)&#10;abstract class PPLWorkoutDatabase : RoomDatabase() {&#10;&#10;    abstract fun exerciseDao(): ExerciseDao&#10;    abstract fun workoutDayDao(): WorkoutDayDao&#10;    abstract fun workoutEntryDao(): WorkoutEntryDao&#10;    abstract fun setEntryDao(): SetEntryDao&#10;    abstract fun workoutTemplateDao(): WorkoutTemplateDao&#10;    abstract fun templateExerciseDao(): TemplateExerciseDao&#10;&#10;    private class PPLWorkoutDatabaseCallback : RoomDatabase.Callback() {&#10;&#10;        override fun onCreate(db: SupportSQLiteDatabase) {&#10;            super.onCreate(db)&#10;            INSTANCE?.let { database -&gt;&#10;                CoroutineScope(Dispatchers.IO).launch {&#10;                    populateDatabase(database.exerciseDao())&#10;                    populateTemplates(database.workoutTemplateDao(), database.templateExerciseDao())&#10;                }&#10;            }&#10;        }&#10;&#10;        override fun onOpen(db: SupportSQLiteDatabase) {&#10;            super.onOpen(db)&#10;            // Ensure exercises and templates are populated even if database already exists&#10;            INSTANCE?.let { database -&gt;&#10;                CoroutineScope(Dispatchers.IO).launch {&#10;                    val exerciseCount = database.exerciseDao().getExerciseCount()&#10;                    if (exerciseCount == 0) {&#10;                        populateDatabase(database.exerciseDao())&#10;                    }&#10;                    &#10;                    val templateCount = database.workoutTemplateDao().getTemplateCount()&#10;                    if (templateCount == 0) {&#10;                        populateTemplates(database.workoutTemplateDao(), database.templateExerciseDao())&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        suspend fun populateDatabase(exerciseDao: ExerciseDao) {&#10;            // Clear existing data&#10;            exerciseDao.deleteAll()&#10;&#10;            // Insert PPL exercises&#10;            val exercises = getPPLExercises()&#10;            exerciseDao.insertAll(exercises)&#10;        }&#10;        &#10;        suspend fun populateTemplates(templateDao: WorkoutTemplateDao, templateExerciseDao: TemplateExerciseDao) {&#10;            // Clear existing template data&#10;            templateExerciseDao.deleteAll()&#10;            templateDao.deleteAll()&#10;&#10;            // Insert PPL templates&#10;            val templates = PPLTemplateData.getPPLTemplates()&#10;            templateDao.insertTemplates(templates)&#10;            &#10;            // Insert template exercises&#10;            val templateExercises = PPLTemplateData.getTemplateExercises()&#10;            templateExerciseDao.insertTemplateExercises(templateExercises)&#10;            &#10;            println(&quot;️ DATABASE: Successfully populated ${templates.size} templates with ${templateExercises.size} template exercises&quot;)&#10;        }&#10;    }&#10;&#10;    companion object {&#10;        @Volatile&#10;        private var INSTANCE: PPLWorkoutDatabase? = null&#10;&#10;        // Migration from version 6 to 7 - Add WorkoutTemplate and TemplateExercise tables&#10;        val MIGRATION_6_7 = object : Migration(6, 7) {&#10;            override fun migrate(database: SupportSQLiteDatabase) {&#10;                println(&quot; MIGRATION: Starting migration from v6 to v7...&quot;)&#10;&#10;                // Create WorkoutTemplate table&#10;                database.execSQL(&quot;&quot;&quot;&#10;                    CREATE TABLE IF NOT EXISTS `workout_templates` (&#10;                        `id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,&#10;                        `name` TEXT NOT NULL,&#10;                        `description` TEXT NOT NULL,&#10;                        `estimatedDuration` INTEGER NOT NULL,&#10;                        `difficulty` TEXT NOT NULL,&#10;                        `category` TEXT NOT NULL,&#10;                        `isCustom` INTEGER NOT NULL DEFAULT 0,&#10;                        `isActive` INTEGER NOT NULL DEFAULT 1,&#10;                        `createdDate` TEXT NOT NULL DEFAULT '',&#10;                        `lastUsedDate` TEXT NOT NULL DEFAULT ''&#10;                    )&#10;                &quot;&quot;&quot;.trimIndent())&#10;&#10;                // Create TemplateExercise table&#10;                database.execSQL(&quot;&quot;&quot;&#10;                    CREATE TABLE IF NOT EXISTS `template_exercises` (&#10;                        `id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,&#10;                        `templateId` INTEGER NOT NULL,&#10;                        `exerciseId` INTEGER NOT NULL,&#10;                        `orderIndex` INTEGER NOT NULL,&#10;                        `sets` INTEGER NOT NULL,&#10;                        `reps` INTEGER NOT NULL,&#10;                        `restSeconds` INTEGER NOT NULL,&#10;                        `weight` REAL NOT NULL DEFAULT 0.0,&#10;                        `notes` TEXT NOT NULL DEFAULT '',&#10;                        `isSuperset` INTEGER NOT NULL DEFAULT 0,&#10;                        `supersetGroup` INTEGER NOT NULL DEFAULT 0,&#10;                        FOREIGN KEY(`templateId`) REFERENCES `workout_templates`(`id`) ON DELETE CASCADE,&#10;                        FOREIGN KEY(`exerciseId`) REFERENCES `exercises`(`id`) ON DELETE CASCADE&#10;                    )&#10;                &quot;&quot;&quot;.trimIndent())&#10;&#10;                println(&quot; MIGRATION: Successfully created WorkoutTemplate and TemplateExercise tables&quot;)&#10;            }&#10;        }&#10;&#10;        fun getDatabase(context: Context): PPLWorkoutDatabase {&#10;            return INSTANCE ?: synchronized(this) {&#10;                val instance = Room.databaseBuilder(&#10;                    context.applicationContext,&#10;                    PPLWorkoutDatabase::class.java,&#10;                    &quot;ppl_workout_database&quot;&#10;                )&#10;                    .addCallback(PPLWorkoutDatabaseCallback())&#10;                    .addMigrations(MIGRATION_6_7)  // Fixed: use addMigrations instead of addMigration&#10;                    .fallbackToDestructiveMigration()&#10;                    // Force database recreation to ensure clean state&#10;                    .build()&#10;&#10;                INSTANCE = instance&#10;                instance&#10;            }&#10;        }&#10;&#10;        // Reset database method - clears workout progress while preserving exercise definitions&#10;        suspend fun resetDatabase() {&#10;            INSTANCE?.let { database -&gt;&#10;                // Clear all user workout data directly (we're already in a suspend function)&#10;                database.workoutDayDao().deleteAll()&#10;                database.workoutEntryDao().deleteAll()&#10;                database.setEntryDao().deleteAll()&#10;&#10;                // Force close and invalidate all active connections to clear cache&#10;                database.clearAllTables()&#10;                database.invalidationTracker.refreshVersionsAsync()&#10;&#10;                // Note: We're not deleting exercises since that would remove the exercise library&#10;            }&#10;        }&#10;&#10;        // Method to completely reset the database instance (more aggressive)&#10;        suspend fun forceResetDatabase(context: Context) {&#10;            println(&quot; RESET: Starting forceResetDatabase...&quot;)&#10;&#10;            INSTANCE?.let { database -&gt;&#10;                println(&quot; RESET: Clearing all data from existing database...&quot;)&#10;&#10;                try {&#10;                    // Run database operations on IO dispatcher to avoid main thread issues&#10;                    withContext(Dispatchers.IO) {&#10;                        // Clear all data and log the results&#10;                        val workoutDaysDeleted = database.workoutDayDao().deleteAll()&#10;                        val workoutEntriesDeleted = database.workoutEntryDao().deleteAll()&#10;                        val setEntriesDeleted = database.setEntryDao().deleteAll()&#10;&#10;                        println(&quot; RESET: Deleted $workoutDaysDeleted workout days&quot;)&#10;                        println(&quot; RESET: Deleted $workoutEntriesDeleted workout entries&quot;)&#10;                        println(&quot; RESET: Deleted $setEntriesDeleted set entries&quot;)&#10;&#10;                        // Use the public API for invalidation instead of restricted refreshVersionsSync&#10;                        database.invalidationTracker.refreshVersionsAsync()&#10;                        println(&quot; RESET: Invalidated all cached queries (async)&quot;)&#10;&#10;                        // Clear all tables to reset Room's internal state&#10;                        database.clearAllTables()&#10;                        println(&quot; RESET: Cleared all Room tables&quot;)&#10;                    }&#10;&#10;                } catch (e: Exception) {&#10;                    println(&quot; RESET ERROR: ${e.message}&quot;)&#10;&#10;                    // If we get errors, fall back to recreating the database&#10;                    try {&#10;                        database.close()&#10;                        println(&quot; RESET: Closed database due to errors&quot;)&#10;                    } catch (closeError: Exception) {&#10;                        println(&quot; RESET: Error closing database: ${closeError.message}&quot;)&#10;                    }&#10;&#10;                    // Clear the singleton instance to force recreation&#10;                    INSTANCE = null&#10;                    println(&quot; RESET: Database instance cleared for recreation&quot;)&#10;                }&#10;            }&#10;&#10;            if (INSTANCE == null) {&#10;                // Force garbage collection to clear any remaining references&#10;                System.gc()&#10;                println(&quot; RESET: Garbage collection forced&quot;)&#10;&#10;                // Recreate the database instance&#10;                getDatabase(context)&#10;                println(&quot; RESET: Database recreated&quot;)&#10;            }&#10;&#10;            println(&quot; RESET: Reset complete&quot;)&#10;        }&#10;&#10;        // Method to verify database is empty (for debugging)&#10;        suspend fun verifyDatabaseEmpty(): Triple&lt;Int, Int, Int&gt; {&#10;            return INSTANCE?.let { database -&gt;&#10;                val workoutDays = database.workoutDayDao().getWorkoutDayCount()&#10;                val workoutEntries = database.workoutEntryDao().getWorkoutEntryCount()&#10;                val setEntries = database.setEntryDao().getSetEntryCount()&#10;                println(&quot; VERIFY: WorkoutDays: $workoutDays, WorkoutEntries: $workoutEntries, SetEntries: $setEntries&quot;)&#10;                Triple(workoutDays, workoutEntries, setEntries)&#10;            } ?: Triple(0, 0, 0)&#10;        }&#10;&#10;        // Method to force populate exercises when they're missing&#10;        suspend fun forcePopulateExercises() {&#10;            INSTANCE?.let { database -&gt;&#10;                println(&quot;️ DATABASE: Force populating exercises...&quot;)&#10;                try {&#10;                    val exerciseDao = database.exerciseDao()&#10;                    val exercises = ExerciseData.getPPLExercises() // Use new rich exercise data&#10;&#10;                    // Clear any existing exercises and insert fresh ones&#10;                    exerciseDao.deleteAll()&#10;                    exerciseDao.insertAll(exercises)&#10;&#10;                    println(&quot;️ DATABASE: Successfully inserted ${exercises.size} exercises&quot;)&#10;                } catch (e: Exception) {&#10;                    println(&quot;️ DATABASE ERROR: Failed to populate exercises - ${e.message}&quot;)&#10;                }&#10;            }&#10;        }&#10;&#10;        private fun getPPLExercises(): List&lt;Exercise&gt; {&#10;            // Delegate to the new ExerciseData class for better organization&#10;            return ExerciseData.getPPLExercises()&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/entity/TemplateExercise.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/entity/TemplateExercise.kt" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data.entity&#10;&#10;import androidx.room.Entity&#10;import androidx.room.PrimaryKey&#10;import androidx.room.ForeignKey&#10;&#10;/**&#10; * Template Exercise Junction Entity - Links exercises to workout templates&#10; * &#10; * This entity defines which exercises belong to each template and their configuration&#10; * (sets, reps, rest periods, order). This allows for flexible template composition.&#10; */&#10;@Entity(&#10;    tableName = &quot;template_exercises&quot;,&#10;    foreignKeys = [&#10;        ForeignKey(&#10;            entity = WorkoutTemplate::class,&#10;            parentColumns = [&quot;id&quot;],&#10;            childColumns = [&quot;templateId&quot;],&#10;            onDelete = ForeignKey.CASCADE&#10;        ),&#10;        ForeignKey(&#10;            entity = Exercise::class,&#10;            parentColumns = [&quot;id&quot;],&#10;            childColumns = [&quot;exerciseId&quot;],&#10;            onDelete = ForeignKey.CASCADE&#10;        )&#10;    ]&#10;)&#10;data class TemplateExercise(&#10;    @PrimaryKey(autoGenerate = true) &#10;    val id: Int = 0,&#10;    &#10;    val templateId: Int,           // FK to workout_templates&#10;    val exerciseId: Int,           // FK to exercises&#10;    val orderIndex: Int,           // Exercise order in template (0, 1, 2, etc.)&#10;    val sets: Int,                 // Default sets for this exercise in this template&#10;    val reps: Int,                 // Default reps for this exercise&#10;    val restSeconds: Int,          // Recommended rest between sets (in seconds)&#10;    &#10;    // Optional fields for advanced configurations&#10;    val weight: Double = 0.0,      // Suggested starting weight (if applicable)&#10;    val notes: String = &quot;&quot;,        // Exercise-specific notes for this template&#10;    val isSuperset: Boolean = false, // For future superset implementation&#10;    val supersetGroup: Int = 0     // Group ID for supersets (0 = no superset)&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/entity/WorkoutTemplate.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/offlinepplworkoutapp/data/entity/WorkoutTemplate.kt" />
              <option name="updatedContent" value="package com.example.offlinepplworkoutapp.data.entity&#10;&#10;import androidx.room.Entity&#10;import androidx.room.PrimaryKey&#10;&#10;/**&#10; * Workout Template Entity - Defines reusable workout structures&#10; * &#10; * This replaces the hardcoded day-based workout logic with a flexible template system.&#10; * Templates can be customized, shared, and used to create consistent workout experiences.&#10; */&#10;@Entity(tableName = &quot;workout_templates&quot;)&#10;data class WorkoutTemplate(&#10;    @PrimaryKey(autoGenerate = true) &#10;    val id: Int = 0,&#10;    &#10;    val name: String,              // &quot;Push Day 1&quot;, &quot;Pull Day 1&quot;, &quot;Legs Day 1&quot;, etc.&#10;    val description: String,       // &quot;Chest and Triceps focused&quot;, &quot;Back and Biceps&quot;, etc.&#10;    val estimatedDuration: Int,    // Estimated workout duration in minutes&#10;    val difficulty: String,        // &quot;Beginner&quot;, &quot;Intermediate&quot;, &quot;Advanced&quot;&#10;    val category: String,          // &quot;Push&quot;, &quot;Pull&quot;, &quot;Legs&quot;&#10;    &#10;    // Optional fields for future enhancements&#10;    val isCustom: Boolean = false, // User-created vs predefined templates&#10;    val isActive: Boolean = true,  // Can be deactivated without deletion&#10;    val createdDate: String = &quot;&quot;,  // When template was created&#10;    val lastUsedDate: String = &quot;&quot;  // Track template usage&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>